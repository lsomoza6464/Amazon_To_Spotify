<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Website</title>
    <link rel="stylesheet" href="styles.css">
    <script src="main.py"></script>
</head>

<div id="amazon-root"></div>
 <script type="text/javascript">

    window.onAmazonLoginReady = function() {
      amazon.Login.setClientId('amzn1.application-oa2-client.200c6fc078ff405180ea6b4e50710025');
    };
    (function(d) {
      var a = d.createElement('script'); a.type = 'text/javascript';
      a.async = true; a.id = 'amazon-login-sdk';
      a.src = 'https://assets.loginwithamazon.com/sdk/na/login1.js';
      d.getElementById('amazon-root').appendChild(a);
    })(document);

</script>

<body>
    <div class="backdrop">
        <textarea id="mainTitle">Welcome to Amazon to Spotify MP3</textarea>
        <a href id="LoginWithAmazon">
            <img border="0" alt="Login with Amazon"
            src="https://images-na.ssl-images-amazon.com/images/G/01/lwa/btnLWA_gold_156x32.png"
                width="156" height="32" />
        </a>
         <!--<script type="text/javascript">
            /*document.getElementById('LoginWithAmazon').onclick = function() {
                options = {}
                options.scope = 'profile';
                options.pkce = true;
                options.scope_data = {
                    'profile' : {'essential': false}
                };
                options.response_type = 'code';
                amazon.Login.authorize(options,
                    //"http://localhost:5000/callback");
                    'https://www.google.com/handle_login.php');
                    */
                
                /*amazon.Login.authorize(options, function(response) {
                    if ( response.error ) {
                        alert('oauth error ' + response.error);
                        return;
                    }
                    amazon.Login.retrieveToken(response.code, function(response) {
                        if ( response.error ) {
                            alert('oauth error ' + response.error);
                            return;
                            }
                            alert('Access Token: ' + response.access_token);
                    });
                });*/
                /*return false;

                
            };*/
        </script>-->
        <h1>Login with Amazon</h1>
      
        <script>
            document.getElementById('LoginWithAmazon').onclick = function(event) {
                event.preventDefault(); // Prevent default button behavior
                authenticateWithAmazon();
            }
            
            function authenticateWithAmazon() {
                // Define your client ID and redirect URI
                const clientId = 'amzn1.application-oa2-client.200c6fc078ff405180ea6b4e50710025';
                const redirectUri = 'https://lsomoza6464.github.io/Amazon_To_Spotify/callback';
                //const redirectUri = 'https://www.google.com'

                // Define the authentication endpoint
                const authEndpoint = 'https://www.amazon.com/ap/oa';
        
                // Define the parameters for the authentication request
                const authParams = {
                client_id: clientId,
                redirect_uri: redirectUri,
                response_type: 'code',
                scope: 'profile', // Specify the scopes you need
                };
        
                // Construct the authentication URL
                const authUrl = `${authEndpoint}?${new URLSearchParams(authParams).toString()}`;
        
                window.location.href = authUrl;
            }
        </script>
        <!---<button id="amazonLoginButton" onclick()="amazon_login()" value="Request Authorization">log into your spotify music account</button>--->
    </div>
</body>
</html>
